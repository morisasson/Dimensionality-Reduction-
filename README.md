# Dimensionality Reduction 
 

# README: Machine Learning Project

## Project Overview
This project analyzes the dataset of Knesset elections in Israel, where each row represents a ballot box (קלפי). The analysis includes clustering cities based on voting patterns and identifying relationships between voting tendencies for different political parties. The project implements dimensionality reduction techniques and provides an interactive user interface for data visualization using Streamlit.

## Repository Structure
- `main.py`: Contains core Python functions for data loading, processing, and dimensionality reduction.
- `notebook.ipynb`: A Jupyter Notebook demonstrating the use of the implemented functions with the dataset.
- `streamlit_app.py`: Streamlit app code for interactive data visualization.
- `knesset_25.xlsx`: The dataset used for analysis.

## Prerequisites
Ensure the following Python libraries are installed:
- `numpy`
- `pandas`
- `matplotlib`
- `plotly`
- `streamlit`

You can install these dependencies using:
```bash
pip install numpy pandas matplotlib plotly streamlit
```

## How to Run the Python Scripts
### 1. Run the Jupyter Notebook:
1. Open the terminal or command prompt.
2. Navigate to the project directory.
3. Launch Jupyter Notebook:
   ```bash
   jupyter notebook
   ```
4. Open `notebook.ipynb` in your browser.
5. Follow the steps to understand how to use the implemented functions with the dataset.

### 2. Run the Python Functions:
1. Open the terminal or command prompt.
2. Navigate to the project directory.
3. Import functions from `main.py` in a Python script or interactive session:
   ```python
   from main import load_data, group_and_aggregate_data, remove_sparse_columns, dimensionality_reduction

   # Example usage:
   df = load_data("knesset_25.xlsx")
   grouped_data = group_and_aggregate_data(df, group_by_column="city_name", agg_func=sum)
   reduced_data = dimensionality_reduction(grouped_data, num_components=2, meta_columns=["city_name"])
   ```

## How to Interact with the Streamlit UI
### 1. Launch the Streamlit App:
1. Open the terminal or command prompt.
2. Navigate to the project directory.
3. Run the Streamlit app:
   ```bash
   streamlit run streamlit_app.py
   ```

### 2. Using the Streamlit Interface:
1. Upload a dataset in `.csv`, `.xls`, or `.xlsx` format using the file uploader.
2. Use the sidebar settings to:
   - Select the processing mode (`City-wise` or `Party-wise`).
   - Specify the number of PCA components for dimensionality reduction.
   - Set a threshold for removing sparse columns.
   - Group and aggregate data based on a selected column and aggregation function.
3. View the reduced dataset and its interactive visualization generated by Plotly.

## Key Features
- **Dimensionality Reduction:** PCA implemented from scratch using `numpy` and `pandas`.
- **Interactive UI:** Streamlit interface for exploring voting patterns and clustering results.
- **Visualizations:** Interactive scatter plots created with Plotly.

## Notes
- The dataset must be in a compatible format (`.csv`, `.xls`, `.xlsx`).
- The Streamlit app provides two modes: `City-wise` and `Party-wise` for analyzing data.
- Ensure proper cleanup of temporary files generated during the Streamlit session.

## Support
For any issues or inquiries, please contact the project developer.

---

Thank you for exploring this project! Feel free to contribute or provide feedback.

## Authors:
Mori Sason
